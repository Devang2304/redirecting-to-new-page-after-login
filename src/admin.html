<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>admin</title>
</head>
<script type="text/javascript">
    $(document).ready(function(){
        $("#form").submit(function(event){
            event.preventDefault();

            $.ajax({
                type :'POST',
                url:'/login',
                data: $('#form').serialize(),
                dataType: "json",
                success : function (response) {
                    $('#form')[0].reset();

                    if(response.Success=="Success!"){
                        document.getElementById("aa").click();
                    };
                },
                error : function(){

                }
            })
        });
    });
</script>
<body>
    <form class="login" action="/login" method="POST">
        <h1>Admin Login</h1>
        <input autocomplete="off" id="username" type="text" placeholder="Username">
        <input autocomplete="off" id="password" type="password" placeholder="Password">
        <input type="submit" value="Login" class="button">
    </form>

    <div><a href="/src/dashboard.html" id="aa"></a></div>

</body>
<script>
    const form=document.querySelector('.login')
    form.addEventListener('submit',loginUser)
    async function loginUser(event){
        event.preventDefault()
        const username=document.getElementById('username').value
        const password=document.getElementById('password').value
        const result = await fetch(' /login',{
            method: 'POST',
            headers:{
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                username,
                password
            })
        }).then((res)=> res.json())
    }
</script>

</html>